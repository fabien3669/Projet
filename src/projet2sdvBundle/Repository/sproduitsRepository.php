<?php

namespace projet2sdvBundle\Repository;

/**
 * sproduitsRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class sproduitsRepository extends \Doctrine\ORM\EntityRepository
{

    public function getProduits(){
		$qb=$this->createQueryBuilder('p'); // il lui faut une lettre, i : item en base de données donc schéma
        $qb->select('p.id', 't.libelle', 'p.nom', 'p.prix', 'p.photo')
            ->join( 'projet2sdvBundle:stypeProduits', 't', 'with', 'p.typeProduit=t.id')
            ->addOrderBy('p.nom', 'ASC');
        return $qb->getQuery()->getResult();
    }
}
